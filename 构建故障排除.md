# iOS 構建故障排除指南

## 🔧 當前狀態

- ✅ EAS CLI 已安裝並登入 (gglababy)
- ✅ 項目已配置 EAS Build
- ✅ app.json 已更新必要配置
- ⚠️ 需要設置 iOS 證書和配置文件

## 🚀 立即執行構建

### 方法 1: 自動證書管理（推薦）

```bash
# EAS 會自動生成和管理證書
eas build --platform ios --profile preview --clear-cache
```

### 方法 2: 手動設置證書

```bash
# 設置證書（如果遇到證書問題）
eas credentials --platform ios

# 然後構建
eas build --platform ios --profile preview
```

## 📋 構建過程中的選擇

當運行構建命令時，EAS 可能會詢問以下問題：

### 1. 證書設置

- **問題**: "What would you like to do?"
- **選擇**: "Let Expo handle the process!" (讓 Expo 自動處理)

### 2. Apple 開發者帳號

- **問題**: "Please enter your Apple ID"
- **輸入**: 您的 Apple 開發者帳號 email

### 3. App Store Connect

- **問題**: 關於 App Store Connect API Key
- **選擇**: "Let me provide my own credentials" 或 "Generate new API key"

## 🔍 構建狀態檢查

### 即時狀態

```bash
# 檢查構建列表
eas build:list --platform ios

# 檢查特定構建
eas build:view [BUILD_ID]
```

### 網頁監控

訪問: https://expo.dev/accounts/gglababy/projects/decision-app/builds

## 🐛 常見問題解決

### 問題 1: 證書錯誤

```
Error: No valid iOS distribution certificate found
```

**解決方案**: 讓 EAS 自動生成證書

```bash
eas credentials --platform ios
# 選擇 "Set up new iOS credentials"
```

### 問題 2: Bundle ID 已存在

```
Error: Bundle identifier is already in use
```

**解決方案**: 修改 Bundle ID

```json
{
  "ios": {
    "bundleIdentifier": "com.gglababy.decisionapp.v2"
  }
}
```

### 問題 3: Apple ID 問題

```
Error: Invalid Apple ID credentials
```

**解決方案**:

1. 確認 Apple 開發者帳號有效
2. 檢查是否啟用了雙重認證
3. 可能需要生成應用專用密碼

## 📱 測試版本完成後

構建成功後，您將收到：

1. **IPA 檔案**: 可用於 TestFlight 或直接安裝
2. **下載連結**: 從 EAS 網站下載
3. **QR 碼**: 快速在設備上安裝

### 安裝方式

1. **TestFlight**: 上傳到 App Store Connect
2. **AdHoc 安裝**: 直接安裝到已註冊的設備
3. **模擬器**: 在 iOS 模擬器中測試

## 🎯 下一步建議

1. **先構建 Preview**: 確保基本功能正常
2. **測試核心功能**:
   - 主題選擇
   - 自定義選項
   - 決策功能
   - 動畫效果
3. **修復問題**: 如有 bug 立即修復
4. **構建 Production**: 準備正式上架版本

## 🆘 需要幫助？

如果構建過程中遇到任何問題，請：

1. 複製完整的錯誤信息
2. 截圖錯誤畫面
3. 說明您在哪個步驟遇到問題

我會幫您快速解決！🚀
